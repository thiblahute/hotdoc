@require(page, source_file, symbols_details, extra_html, extra_footer_html, sections_details)
@extends('base_page.html')

@def render_symbols(sdetails, section):

    @for symbols_detail in sdetails:
        @(html_id = '')
        @if symbols_detail.name:
            @(html_id = '_'.join(symbols_detail.name.split()))
            @if section and section.name:
                @(html_id = '_'.join(section.name.split()) + html_id)
                @(header_level = '3')
            @else:
                @(header_level = '2')
            @end
            <h@header_level class="symbol_section" id="@html_id">@symbols_detail.name</h@header_level>
        @end
        \
        @for i, description in enumerate(symbols_detail.descriptions):
            @description
        @end
    @end
@end

@def render_sections():

    @for section in sections_details:
        @(html_id = '')
        @if section.name:
            <h2 class="symbol_section" id="@html_id">@section.name</h2>
        @end
        @render_symbols(section.symbols_details, section)
    @end
@end

@def content():
    <div id="page-description" data-hotdoc-source="@source_file">
    @if page.formatted_contents:
        @page.formatted_contents
    @end
    @if sections_details:
        @render_sections()
    @else:
        @render_symbols(symbols_details, None)
    @end
    @for extra in extra_html:
        @extra
    @end
    </div>

@end
\
@def footer():
\
    @for extra in extra_footer_html:
        @extra
    @end
\
@end
