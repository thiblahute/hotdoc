@require(page, source_file, symbols_details, extra_html, extra_footer_html, sections_details)
@extends('base_page.html')

@def render_symbols(sdetails):

    @for symbols_detail in sdetails:
        @if symbols_detail.name:
            @(html_id = '_'.join(symbols_detail.name.split()))
            @(header_level = '3' if sections_details else '2')
            <h@header_level class="symbol_section" id="@html_id">@symbols_detail.name</h@header_level>
        @end
        \
        @for i, description in enumerate(symbols_detail.descriptions):
            @description
        @end
    @end
@end

@def render_sections():

    @for section in sections_details:
        @(html_id = '_'.join(section.name.split()))
        <h2 class="symbols_section" id="@html_id" data-hotdoc-by-parent=true>@section.name</h2>
        @render_symbols(section.symbols_details)
    @end
@end

@def content():
    <div id="page-description" data-hotdoc-source="@source_file">
    @if page.formatted_contents:
        @page.formatted_contents
    @end
    @if sections_details:
        @render_sections()
    @else:
        @render_symbols(symbols_details)
    @end
    @for extra in extra_html:
        @extra
    @end
    </div>

@end
\
@def footer():
\
    @for extra in extra_footer_html:
        @extra
    @end
\
@end
